@import url('https://fonts.googleapis.com/css2?family=Playfair+Display:wght@400;600;700&display=swap');

.block-1 { --accent: #f51b3b; }
.block-2 { --accent: #ae79ff; }
.block-3 { --accent: #ffe17a; }

* {
    margin: 0;
    padding: 0;
    box-sizing: border-box;
}

:root{
    --gap: 40px;
    --border-radius: 34px;
}

/* базовые стили */
html, body {
    height: 100%;
}

body {
    background: #000;
    overflow: hidden; /* управление скроллом в JS */
    font-family: "Playfair Display", serif;
    -webkit-font-smoothing: antialiased;
    -moz-osx-font-smoothing: grayscale;
}

/* ЛЕГКИЙ ШУМ НА ФОНЕ */
body::after {
    content: "";
    position: fixed;
    inset: 0;
    background-image: url('https://grainy-gradients.vercel.app/noise.svg');
    opacity: 0.23;
    pointer-events: none;
    mix-blend-mode: overlay;
    z-index: 999;
}

/* Контейнер блоков (показывает только 1 экран) */
.wrapper {
    position: relative;
    width: 100%;
    height: 100vh;
    overflow: hidden;
}

/* Общий стиль блока */
.block {
    width: 88%;
    height: 88%;
    position: absolute;
    inset: 0;
    margin: auto;
    border-radius: var(--border-radius);
    overflow: hidden;
    display: flex;
    justify-content: center;
    align-items: center;
    padding: var(--gap);
    transition: transform 0.75s cubic-bezier(.22,.9,.3,1), box-shadow 0.3s ease;
    transform: translateY(100vh);
    opacity: 1;
    box-shadow: 0 10px 30px rgba(0,0,0,0.6);
    z-index: 1;
    backdrop-filter: blur(0.4px);
}

/* активный блок выше остальных */
.block.active {
    z-index: 20;
    transform: translateY(0);
}

/* Следующий блок, который въезжает */
.block.slide-in {
    transform: translateY(0);
    z-index: 15;
}

/* Уходящий вниз */
.block.slide-out {
    transform: translateY(100vh);
    z-index: 5;
}

/* Акцентные фоны */
.block-1 {
    background: linear-gradient(180deg, #f8f6fa, #c6c4c6);
    color: #000;
}

.block-2 {
    background: linear-gradient(180deg, #332644, #98a5ad);
    color: #fff;
}

.block-3 {
    background: linear-gradient(180deg, #6993fc, #0a26a3);
    color: #fff;
}

/* Боковые вертикальные видео/изображения */
.side-image {
    position: absolute;
    top: 0;
    width: 30%;
    height: 100%;
    overflow: hidden;
    -webkit-mask-image: linear-gradient(90deg, transparent, black 30%, black 70%, transparent);
    mask-image: linear-gradient(90deg, transparent, black 30%, black 70%, transparent);
}

.side-image video,
.side-image img {
    width: 100%;
    height: 100%;
    object-fit: cover;
    display: block;
    transform-origin: center;
}

/* размеры и позиционирование для конкретных блоков */
.block-1 .left  { left: 0; width: 30%; }
.block-1 .right { right: 0; width: 30%; }

.block-2 .right { right: 0; width: 34%; }
.block-2 .left  { left: 0; width: 34%; }

.block-3 .left  { left: 0; width: 34%; }
.block-3 .right { right: 0; width: 34%; }

/* текстовые области */
.center-text {
    width: 40%;
    text-align: center;
    font-size: 23px;
    line-height: 1.4;
    z-index: 10;
}

.big-text {
    width: 66%;
    font-size: 23px;
    line-height: 1.35;
    z-index: 10;
}

.center-text p,
.big-text p {
    margin-bottom: 14px;
    font-weight: 400;
}

.block-3 .big-text {
    position: absolute;      /* абсолютное позиционирование */
    left: 5%;                /* отступ слева */
    top: 50%;                /* центр по вертикали */
    transform: translateY(-50%); /* корректное вертикальное центрирование */
    width: 60%;              /* ширина блока */
    text-align: left;        /* выравнивание текста по левому краю */
    z-index: 10;             /* чтобы текст был поверх фона */
}

/* Лёгкий красный неон для заголовков/текста */
.block-1 .center-text p,
.block-2 .center-text p,
.block-3 .big-text p {
    text-shadow: 0 0 6px rgba(255, 0, 0, 0.20), 0 1px 0 rgba(0,0,0,0.15);
}

.block-4 {
    background: linear-gradient(180deg, #111111, #333333); /* фон для контраста */
    color: #fff;
}

/* Центрированный текст */
.block-4 .center-text {
    width: 60%;
    text-align: center;
    font-size: 28px;
    line-height: 1.4;
    z-index: 10;
}

/* Лёгкий красный неон как у остальных блоков */
.block-4 .center-text p {
    margin-bottom: 14px;
    font-weight: 400;
    text-shadow: 0 0 6px rgba(255, 0, 0, 0.20), 0 1px 0 rgba(0,0,0,0.15);
}

/* дополнительные эффекты видео — лёгкое движение / масштаб при фокусе */
.side-image video {
    transition: transform 8s linear;
}

.block.active .side-image video {
    transform: scale(1.03);
}

/* Плавное появление/исчезание для маски затухания (опционально) */
.side-image::after {
    content: "";
    position: absolute;
    inset: 0;
    pointer-events: none;
    background: linear-gradient(to right, rgba(0,0,0,0.25), rgba(0,0,0,0));
}

/* ❤️ Сердечки при переходе */
#transition-heart-container {
    position: fixed;
    inset: 0;
    pointer-events: none;
    z-index: 99999;
    overflow: hidden;
}

/* Красные сердца при переходе */
.heart {
    position: absolute;
    width: 20px;
    height: 20px;
    background: red;
    transform: rotate(-45deg);
    animation: rise 2s linear forwards;
}

.heart::before,
.heart::after {
    content: "";
    position: absolute;
    width: 20px;
    height: 20px;
    background: red;
    border-radius: 50%;
}

.heart::before {
    top: -10px;
    left: 0;
}

.heart::after {
    left: 10px;
    top: 0;
}

/* Мягкие сердца для активного блока */
.soft-heart {
    position: absolute;
    width: 16px;
    height: 16px;
    transform: rotate(-45deg);
    opacity: 0.25;
    animation: softRise 5s linear forwards;
    background: var(--accent);
}

.soft-heart::before,
.soft-heart::after {
    content: "";
    position: absolute;
    width: 16px;
    height: 16px;
    background: var(--accent);
    border-radius: 50%;
}

.soft-heart::before {
    top: -8px;
    left: 0;
}

.soft-heart::after {
    left: 8px;
    top: 0;
}

/* Анимации */
@keyframes rise {
  0% {
    transform: translateY(0) rotate(-45deg) scale(0.8);
    opacity: 0.95;
  }
  100% {
    transform: translateY(-100vh) rotate(-45deg) scale(1.1);
    opacity: 0;
  }
}

@keyframes softRise {
  0% {
    transform: translateY(0) rotate(-45deg) scale(0.8);
    opacity: 0.25;
  }
  100% {
    transform: translateY(-100vh) rotate(-45deg) scale(1.2);
    opacity: 0;
  }
}

.mobile-warning {
    display: none;
    color: #fff;
    font-size: 24px;
    text-align: center;
    padding: 40px;
}

/* Для экранов до 900px (телефон/планшет) */
@media (max-width: 900px) {
    .wrapper, .block {
        display: none !important; /* скрываем все блоки */
    }

    .mobile-warning {
        display: block; /* показываем сообщение */
        position: fixed;
        inset: 0;
        display: flex;
        justify-content: center;
        align-items: center;
        background: #000;
        z-index: 9999;
    }
}

/* адаптив */
@media (max-width: 900px) {
    .side-image { width: 28%; }
    .center-text { width: 60%; font-size: 20px; }
    .big-text { width: 72%; font-size: 22px; }
    .block { width: 94%; height: 92%; padding: 24px; border-radius: 22px; }
}

